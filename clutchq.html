<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClutchQ v3.0 - Stadium Map</title>
    <style>
        :root {
            --bg-color: #000000;
            --card-bg: #1c1c1e;
            --text-main: #ffffff;
            --text-muted: #8e8e93;
            --green: #30d158;
            --red: #ff453a;
            --yellow: #ffd60a;
            --blue: #0a84ff;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* --- TOP HEADER --- */
        .header {
            width: 100%;
            padding: 20px;
            text-align: center;
            background: rgba(28, 28, 30, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo { font-weight: 900; font-size: 22px; letter-spacing: -0.5px; }
        .logo span { color: var(--green); }

        /* --- NAVIGATION --- */
        .nav-pill-container {
            display: flex;
            background: #2c2c2e;
            padding: 5px;
            border-radius: 25px;
            margin: 20px 0;
            width: 90%;
            max-width: 350px;
        }

        .nav-item {
            flex: 1;
            text-align: center;
            padding: 10px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-muted);
            border-radius: 20px;
            cursor: pointer;
            transition: 0.3s;
        }

        .nav-item.active {
            background: #636366;
            color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        /* --- CONTENT CONTAINERS --- */
        .tab-content { display: none; width: 90%; max-width: 400px; animation: fadeIn 0.4s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- TAB 1: GAME STATUS (REDESIGNED) --- */
        .status-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            border: 1px solid #333;
            margin-bottom: 20px;
        }

        .traffic-light-row {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .bulb {
            width: 50px; height: 50px;
            border-radius: 50%;
            background: #333;
            opacity: 0.2;
            transition: 0.4s;
            box-shadow: inset 0 0 10px #000;
        }

        .bulb.active { opacity: 1; transform: scale(1.2); }
        .bulb.green.active { background: var(--green); box-shadow: 0 0 30px var(--green); }
        .bulb.yellow.active { background: var(--yellow); box-shadow: 0 0 30px var(--yellow); }
        .bulb.red.active { background: var(--red); box-shadow: 0 0 30px var(--red); }

        .big-status-text { font-size: 28px; font-weight: 800; margin: 10px 0; line-height: 1.2; }
        .sub-status-text { color: var(--text-muted); font-size: 15px; }

        .btn-main {
            background: var(--green);
            color: black;
            font-weight: bold;
            font-size: 18px;
            padding: 16px;
            width: 100%;
            border: none;
            border-radius: 15px;
            margin-top: 10px;
            cursor: pointer;
        }
        .btn-main:active { transform: scale(0.96); }

        /* --- TAB 2: STADIUM MAP (NEW!) --- */
        .stadium-container {
            position: relative;
            width: 100%;
            height: 350px;
            background: #2c2c2e;
            border-radius: 30px;
            margin-top: 10px;
            border: 4px solid #444;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* The Playing Field */
        .field {
            width: 50%;
            height: 60%;
            background: linear-gradient(180deg, #1b5e20 0%, #2e7d32 100%);
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.2);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            color: rgba(255,255,255,0.4);
            font-weight: bold;
            letter-spacing: 2px;
        }

        /* The Facilities Dots */
        .facility {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #555;
            border: 2px solid #2c2c2e;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            cursor: pointer;
            transition: 0.3s;
            z-index: 10;
        }
        
        /* Positioning Facilities around the concourse */
        .fac-101 { top: 20px; left: 45%; } /* Top Center */
        .fac-102 { bottom: 20px; left: 45%; } /* Bottom Center */
        .fac-103 { top: 45%; left: 20px; } /* Left */
        .fac-104 { top: 45%; right: 20px; } /* Right */
        .fac-105 { top: 20px; right: 20%; } /* Corner */
        .fac-106 { bottom: 20px; left: 20%; } /* Corner */

        /* States */
        .facility.good { background: var(--green); box-shadow: 0 0 15px var(--green); color: black; }
        .facility.bad { background: var(--red); box-shadow: 0 0 15px var(--red); color: white; animation: pulse 1s infinite; }
        
        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.1);} 100% {transform: scale(1);} }

        .legend {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 15px;
            font-size: 12px;
            color: var(--text-muted);
        }
        .dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 5px; }

        .recommendation-box {
            background: #1c1c1e;
            border-left: 4px solid var(--green);
            padding: 15px;
            margin-top: 15px;
            border-radius: 10px;
            text-align: left;
        }

        /* --- UTILS --- */
        select {
            background: #333;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            margin-bottom: 10px;
            font-size: 16px;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo">Clutch<span>Q</span></div>
    </div>

    <div class="nav-pill-container">
        <div class="nav-item active" onclick="switchTab('game')">Game Flow</div>
        <div class="nav-item" onclick="switchTab('map')">Map & Lines</div>
    </div>

    <div id="game" class="tab-content active">
        <div class="status-card">
            <select id="sport-selector">
                <option value="nfl">üèà NFL (Football)</option>
                <option value="nba">üèÄ NBA (Basketball)</option>
                <option value="mlb">‚öæ MLB (Baseball)</option>
            </select>

            <div class="traffic-light-row">
                <div id="red" class="bulb red"></div>
                <div id="yellow" class="bulb yellow"></div>
                <div id="green" class="bulb green"></div>
            </div>

            <div id="status-text" class="big-status-text">Ready to Scan</div>
            <div id="status-detail" class="sub-status-text">Tap the button to analyze live game tempo.</div>
        </div>

        <button class="btn-main" onclick="checkGameStatus()">Scan Game Status</button>
    </div>

    <div id="map" class="tab-content">
        <div style="text-align: center; margin-bottom: 10px;">
            <span style="color: var(--text-muted); font-size: 14px;">Live Wait Times ‚Ä¢ Section 100 Level</span>
        </div>

        <div class="stadium-container">
            <div class="field">FIELD</div>

            <div id="spot1" class="facility fac-101">üöª</div>
            <div id="spot2" class="facility fac-102">üöª</div>
            <div id="spot3" class="facility fac-103">üå≠</div>
            <div id="spot4" class="facility fac-104">üå≠</div>
            <div id="spot5" class="facility fac-105">üç∫</div>
            <div id="spot6" class="facility fac-106">üç∫</div>
        </div>

        <div class="legend">
            <div><span class="dot" style="background:var(--green)"></span>Empty (<2m)</div>
            <div><span class="dot" style="background:var(--red)"></span>Full (>10m)</div>
        </div>

        <div class="recommendation-box">
            <div style="font-size: 12px; color: var(--text-muted); margin-bottom: 5px;">CLUTCHQ RECOMMENDATION</div>
            <div id="best-route-text" style="font-size: 16px; font-weight: bold;">Tap "Refresh" to see lines.</div>
        </div>

        <button class="btn-main" style="background: var(--blue); color: white;" onclick="refreshMap()">Refresh Line Data</button>
    </div>

    <script>
        // --- NAVIGATION ---
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            document.getElementById(tabId).classList.add('active');
            
            // Highlight correct tab button
            const index = tabId === 'game' ? 0 : 1;
            document.querySelectorAll('.nav-item')[index].classList.add('active');
        }

        // --- GAME LOGIC ---
        function checkGameStatus() {
            // Reset UI
            document.querySelectorAll('.bulb').forEach(b => b.classList.remove('active'));
            document.getElementById('status-text').innerText = "Analyzing...";
            document.getElementById('status-detail').innerText = "Connecting to stadium feed...";

            setTimeout(() => {
                const sport = document.getElementById('sport-selector').value;
                const roll = Math.random();
                let mainText = "";
                let subText = "";
                let color = "";

                if (roll < 0.4) {
                    // GREEN
                    color = "green";
                    if(sport === 'nfl') { mainText = "GO NOW!"; subText = "Orange Sleeve Guy on field (TV Timeout)."; }
                    else if(sport === 'nba') { mainText = "GO NOW!"; subText = "Official Review initiated (Est 3 mins)."; }
                    else { mainText = "GO NOW!"; subText = "Pitching Change detected."; }
                } else if (roll < 0.7) {
                    // RED
                    color = "red";
                    mainText = "STAY SEATED";
                    if(sport === 'nfl') subText = "Team in Red Zone. Scoring likely.";
                    else if(sport === 'nba') subText = "Close game, under 2 minutes.";
                    else subText = "Bases loaded, full count.";
                } else {
                    // YELLOW
                    color = "yellow";
                    mainText = "PREPARE";
                    subText = "Action is slowing. Get your shoes on.";
                }

                document.getElementById(color).classList.add('active');
                document.getElementById('status-text').innerText = mainText;
                document.getElementById('status-detail').innerText = subText;
            }, 800);
        }

        // --- MAP LOGIC ---
        function refreshMap() {
            const spots = ['spot1', 'spot2', 'spot3', 'spot4', 'spot5', 'spot6'];
            const locations = [
                {id: 'spot1', name: "Section 101 Restroom", type: "restroom"},
                {id: 'spot2', name: "Section 102 Restroom", type: "restroom"},
                {id: 'spot3', name: "Section 103 Hot Dogs", type: "food"},
                {id: 'spot4', name: "Section 104 Hot Dogs", type: "food"},
                {id: 'spot5', name: "Section 105 Beer", type: "beer"},
                {id: 'spot6', name: "Section 106 Beer", type: "beer"}
            ];

            let bestSpot = null;

            // Loop through each spot and assign random status
            spots.forEach((spotId, index) => {
                const el = document.getElementById(spotId);
                el.classList.remove('good', 'bad'); // Reset

                const isBusy = Math.random() > 0.5; // 50/50 chance
                
                if (isBusy) {
                    el.classList.add('bad');
                    // This spot is busy, ignore it for recommendation
                } else {
                    el.classList.add('good');
                    // Save as a potential best spot
                    if (!bestSpot) bestSpot = locations[index];
                }
            });

            // Update Recommendation Text
            const recText = document.getElementById('best-route-text');
            if (bestSpot) {
                recText.innerHTML = `‚úÖ <b>${bestSpot.name}</b> is empty right now. <br>Walk time: 2 mins.`;
            } else {
                recText.innerHTML = `‚ö†Ô∏è <b>Everything is busy.</b> <br>Wait 5 minutes for lines to clear.`;
            }
        }
    </script>
</body>
</html>